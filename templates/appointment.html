<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Book an Appointment | Health Tap</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
<style>
  /* Reset & base */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0747a6 0%, #2a8bd9 100%);
    color: #1a1a1a;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* Navbar */
  nav.navbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #0747a6;
    padding: 0 30px;
    height: 70px;
    box-shadow: 0 4px 12px rgba(7, 71, 166, 0.3);
    position: sticky;
    top: 0;
    z-index: 1000;
    user-select: none;
  }
  .navbar-brand {
    color: #fff;
    font-weight: 900;
    font-size: 1.75rem;
    display: flex;
    align-items: center;
    text-decoration: none;
  }
  .navbar-brand img {
    height: 40px;
    margin-right: 12px;
    border-radius: 6px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  }
  .nav-links {
    display: flex;
    gap: 20px;
    align-items: center;
  }
  .nav-links a, .nav-links form button {
    background: transparent;
    border: none;
    color: #ddeaff;
    font-weight: 600;
    font-size: 1rem;
    padding: 6px 14px;
    border-radius: 6px;
    cursor: pointer;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: background-color 0.2s ease;
  }
  .nav-links a:hover, .nav-links form button:hover,
  .nav-links a:focus, .nav-links form button:focus {
    background-color: #0b52d4;
    outline: none;
    color: white;
  }
  .profile-icon {
    font-size: 1.4rem;
  }
  /* Responsive hamburger */
  .hamburger {
    display: none;
    font-size: 1.8rem;
    color: #ddeaff;
    cursor: pointer;
    background: none;
    border: none;
  }
  @media(max-width: 768px) {
    .nav-links {
      position: fixed;
      top: 70px;
      right: 0;
      background: #0747a6;
      flex-direction: column;
      width: 220px;
      height: calc(100vh - 70px);
      padding-top: 20px;
      gap: 12px;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      border-top-left-radius: 12px;
      border-bottom-left-radius: 12px;
      box-shadow: -6px 0 12px rgba(0, 0, 0, 0.3);
      z-index: 1100;
    }
    .nav-links.open {
      transform: translateX(0);
    }
    .nav-links a, .nav-links form button {
      width: 100%;
      justify-content: flex-start;
      padding-left: 20px;
      font-size: 1.15rem;
      border-radius: 0;
    }
    .hamburger {
      display: block;
    }
  }

  /* Page content */
  main {
    flex-grow: 1;
    max-width: 960px;
    width: 100%;
    margin: 40px auto 60px auto;
    padding: 0 20px;
    color: #fff;
    text-align: center;
  }

  .page-header {
    max-width: 600px;
    margin: 0 auto 40px auto;
  }
  .page-header h1 {
    font-size: 2.8rem;
    font-weight: 700;
    color: #ddeaff;
    text-shadow: 1px 1px 6px rgba(0,0,0,0.45);
    margin-bottom: 0.2em;
  }
  .page-header h2 {
    font-size: 1.3rem;
    font-weight: 600;
    color: #b7cdfd;
  }
  .page-header img {
    width: 100%;
    max-width: 650px;
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    margin-top: 30px;
  }

  /* Form styles */
  .appointment-form {
    background: rgba(255 255 255 / 0.9);
    color: #12357a;
    padding: 32px 36px;
    border-radius: 24px;
    box-shadow: 0 18px 50px rgba(7, 71, 166, 0.37);
    max-width: 600px;
    margin: 0 auto 40px auto;
    text-align: left;
  }

  .appointment-form label {
    display: block;
    font-weight: 700;
    font-size: 1.1rem;
    margin-bottom: 8px;
    user-select: text;
  }
  .appointment-form input[type="text"],
  .appointment-form input[type="number"],
  .appointment-form input[type="tel"],
  .appointment-form input[type="datetime-local"],
  .appointment-form select {
    width: 100%;
    padding: 14px 18px;
    font-size: 1.1rem;
    border: 2px solid #ccc;
    border-radius: 30px;
    background: #f0f4fa;
    color: #12357a;
    outline-offset: 2px;
    transition: border-color 0.3s ease, background-color 0.3s ease;
    margin-bottom: 24px;
    user-select: text;
  }
  .appointment-form input[type="text"]:focus,
  .appointment-form input[type="number"]:focus,
  .appointment-form input[type="tel"]:focus,
  .appointment-form input[type="datetime-local"]:focus,
  .appointment-form select:focus {
    border-color: #0747a6;
    background-color: #e3ecff;
    outline: none;
  }
  select option[disabled] {
    color: #999;
  }
  .appointment-form input[type="submit"] {
    width: 100%;
    padding: 16px 0;
    background-color: #0747a6;
    border: none;
    border-radius: 36px;
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    cursor: pointer;
    box-shadow: 0 14px 48px rgba(7, 71, 166, 0.5);
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
    user-select: none;
  }
  .appointment-form input[type="submit"]:hover,
  .appointment-form input[type="submit"]:focus {
    background-color: #042f73;
    box-shadow: 0 18px 58px rgba(4, 47, 115, 0.75);
    outline: none;
  }

  /* Back button */
  .back-button {
    text-align: center;
    margin: 25px 0;
  }
  .back-button a {
    font-weight: 600;
    font-size: 1.15rem;
    color: #ddeaff;
    text-decoration: none;
    user-select: none;
    cursor: pointer;
    transition: color 0.3s ease;
  }
  .back-button a:hover,
  .back-button a:focus {
    color: white;
    outline: none;
    text-decoration: underline;
  }

  /* Benefits */
  .benefits {
    max-width: 600px;
    margin: 0 auto;
    color: #d3e3fb;
    font-size: 1.15rem;
    line-height: 1.6;
    text-align: center;
    user-select: text;
  }

  /* Responsive */
  @media (max-width: 720px) {
    nav.navbar {
      padding: 0 16px;
    }
    .nav-links {
      position: fixed;
      top: 70px;
      right: 0;
      width: 220px;
      height: calc(100% - 70px);
      background: #0747a6;
      flex-direction: column;
      gap: 18px;
      padding: 20px 0;
      box-shadow: -6px 0 12px rgba(0,0,0,0.3);
      border-top-left-radius: 12px;
      border-bottom-left-radius: 12px;
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1100;
    }
    .nav-links.open {
      transform: translateX(0);
    }
    main {
      margin: 20px auto 50px auto;
      padding: 0 10px;
    }
  }

  @media (max-width: 480px) {
    h1 {
      font-size: 2.2rem;
    }
    h2 {
      font-size: 1.5rem;
    }
    .appointment-form input[type="submit"] {
      font-size: 1.15rem;
      padding: 14px 0;
    }
    .back-button a {
      font-size: 1.1rem;
    }
  }
</style>
</head>
<body>

  <nav class="navbar" role="navigation" aria-label="Primary Navigation">
    <a href="/userhome" class="navbar-brand" aria-label="Suraksha Hospital Home">
      <img src="https://img.icons8.com/ios-filled/50/ffffff/hospital-3.png" alt="Hospital Logo" />
      Health Tap
    </a>
    <button class="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="primary-navigation" id="hamburgerBtn">
      <i class="fas fa-bars"></i>
    </button>
    <div class="nav-links" id="primary-navigation">
      <a href="/userhome" tabindex="0"><i class="fas fa-house"></i> Home</a>
      <a href="/cancel" tabindex="0"><i class="fas fa-calendar-check"></i> Appointments</a>
      <a href="/doctor_availability" tabindex="0"><i class="fas fa-user-md"></i> Check Doctor Availability</a>
      <a href="/profile" tabindex="0"><i class="fas fa-user-circle"></i> Profile</a>
      <form action="/logout" method="POST" style="margin:0;">
        <button type="submit" tabindex="0"><i class="fas fa-sign-out-alt"></i> Logout</button>
      </form>
    </div>
  </nav>

  <main role="main" aria-label="Book appointment form">
    <div class="page-header">
      <h1>Book Your Appointment</h1>
      <h2>Scroll down below and fill in your appointment details</h2>
      <img src="https://i0.wp.com/webenglish.se/wp-content/uploads/2019/08/health.jpg?fit=1200%2C1088&ssl=1" alt="Hospital" class="header-image" />
    </div>

    <div class="appointment-form">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash-message flash-{{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      <form action="/bookappointment" method="POST" novalidate>
        <label for="name">Patient Name</label>
        <input type="text" id="name" name="name" placeholder="Your full name" required />

        <label for="age">Age</label>
        <input type="number" id="age" name="age" placeholder="Your age" min="0" max="120" required />

        <label for="gender">Gender</label>
        <select id="gender" name="gender" required>
          <option value="" disabled selected>Select your gender</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="Prefer not to say">Prefer not to say</option>
        </select>

        <label for="mobile">Contact Number</label>
        <input type="tel" id="mobile" name="mobile" pattern="[0-9]{10}" placeholder="10-digit mobile number" required title="Enter a valid 10-digit mobile number" />

        <label for="doctor">Doctor You Want To Meet</label>
        <select id="doctor" name="doctor" required>
          <option value="" disabled selected>Select a department</option>
          <option value="Neuro">Neuro</option>
          <option value="ENT">ENT</option>
          <option value="Cardio">Cardio</option>
          <option value="Psychology">Psychology</option>
        </select>

        <label for="datetime">Date and Time</label>
        <input type="datetime-local" id="datetime" name="datetime" required />

        <input type="submit" value="Book Appointment" />
      </form>
    </div>

    <a href="/userhome" class="back-button" role="link" aria-label="Back to User Home">Back</a>

    <div class="benefits">
      <h2>Benefits</h2>
      <p>
        Increased flexibility and ease of use. Book appointments at your convenience, manage your schedules effortlessly, and get timely reminders.
        Stay organized and make the most of your time with our user-friendly interface and advanced features.
      </p>
    </div>
  </main>

  <script>
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const navLinks = document.getElementById('primary-navigation');
    hamburgerBtn.addEventListener('click', () => {
      const expanded = hamburgerBtn.getAttribute('aria-expanded') === 'true';
      hamburgerBtn.setAttribute('aria-expanded', !expanded);
      navLinks.classList.toggle('open');
    });
    hamburgerBtn.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        hamburgerBtn.click();
      }
    });
  </script>

</body>
</html>

